---
import logo from '../../public/logo.jpeg';

type NavItem = { href: string; label: string };
const nav: NavItem[] = [
	{ href: '/', label: 'Home' },
	{ href: '/cars', label: 'Used Cars' },
	{ href: '/pre-owned-luxury-cars', label: 'Cities' },
	{ href: '/contact', label: 'Contact' },
];
---

<header class="sticky top-0 z-[100] border-b border-white/5 bg-[#05060a]/80 backdrop-blur-xl transition-[background,border-color] duration-300 ease-in-out">
	<div class="max-w-[1180px] mx-auto px-4 py-4 flex items-center justify-between gap-4">
		<a class="group inline-flex items-center gap-3 no-underline transition-opacity hover:opacity-80" href="/" aria-label="Home">
			<img src={logo.src} alt="IndianLuxuryCars.com" class="w-8 h-8 rounded-lg object-cover" />
			<span class="font-serif font-bold text-lg tracking-tight text-white">IndianLuxuryCars</span>
		</a>

		<button class="flex flex-col gap-[5px] w-8 h-8 p-0 bg-transparent border-0 cursor-pointer z-[101] relative sm:hidden" aria-label="Toggle menu" aria-expanded="false" id="mobileMenuBtn">
			<span class="block w-full h-0.5 bg-white/90 rounded-[2px] transition-all duration-300 ease-in-out"></span>
			<span class="block w-full h-0.5 bg-white/90 rounded-[2px] transition-all duration-300 ease-in-out"></span>
			<span class="block w-full h-0.5 bg-white/90 rounded-[2px] transition-all duration-300 ease-in-out"></span>
		</button>

		<nav class="hidden gap-6 items-center sm:inline-flex" aria-label="Primary" id="mainNav">
			{nav.map((i) => (
				<a class="text-sm font-medium text-white/70 hover:text-white transition-colors uppercase tracking-wide" href={i.href}>{i.label}</a>
			))}
		</nav>

		<div class="hidden items-center gap-4 sm:flex">
			<a class="text-sm font-medium text-white/70 hover:text-white transition-colors" href="/pre-owned-luxury-cars">Browse dealers</a>
			<a class="px-5 py-2.5 bg-white text-black text-xs font-bold uppercase tracking-wider rounded-full hover:bg-white/90 transition-colors" href="/contact">Get offers</a>
		</div>
	</div>
</header>

<style>
	#mainNav.navOpen {
		display: flex;
		position: absolute;
		top: 100%;
		left: 0;
		right: 0;
		flex-direction: column;
		align-items: stretch;
		background: #05060a;
		border-bottom: 1px solid rgba(255, 255, 255, 0.08);
		padding: 24px;
		gap: 16px;
	}
	#mobileMenuBtn.menuOpen span:nth-child(1) {
		transform: rotate(45deg) translate(7px, 7px);
	}
	#mobileMenuBtn.menuOpen span:nth-child(2) {
		opacity: 0;
	}
	#mobileMenuBtn.menuOpen span:nth-child(3) {
		transform: rotate(-45deg) translate(7px, -7px);
	}
</style>

<script>
	const menuBtn = document.getElementById('mobileMenuBtn');
	const nav = document.getElementById('mainNav');
	if (menuBtn && nav) {
		menuBtn.addEventListener('click', () => {
			const isOpen = menuBtn.getAttribute('aria-expanded') === 'true';
			menuBtn.setAttribute('aria-expanded', String(!isOpen));
			nav.classList.toggle('navOpen');
			menuBtn.classList.toggle('menuOpen');
		});
	}
</script>
